(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ba51ecec"],{"0c27":function(e,t,n){},3530:function(e,t,n){"use strict";n.r(t);n("b0c0");var r=n("7a23"),a=Object(r["F"])("data-v-ab7db32a");Object(r["s"])("data-v-ab7db32a");var c=Object(r["g"])("h1",null,"Admin Page",-1),s=Object(r["g"])("button",{class:"button",type:"submit"},"Login",-1),o={key:1},u={key:2},i=Object(r["g"])("tr",null,[Object(r["g"])("th",null,"Name"),Object(r["g"])("th",null,"Email"),Object(r["g"])("th",null,"Attended")],-1);Object(r["q"])();var d=a((function(e,t,n,a,d,p){return Object(r["p"])(),Object(r["d"])(r["a"],null,[c,d.loggedIn?Object(r["e"])("",!0):(Object(r["p"])(),Object(r["d"])("form",{key:0,onSubmit:t[2]||(t[2]=Object(r["E"])((function(){return p.tryLogin&&p.tryLogin.apply(p,arguments)}),["prevent"]))},[Object(r["D"])(Object(r["g"])("input",{placeholder:"Admin password",type:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return d.password=e})},null,512),[[r["A"],d.password]]),s],32)),d.msg?(Object(r["p"])(),Object(r["d"])("p",o,Object(r["y"])(d.msg),1)):Object(r["e"])("",!0),d.loggedIn?(Object(r["p"])(),Object(r["d"])("div",u,[Object(r["g"])("p",null,"Attendance is "+Object(r["y"])(d.attendanceOpen?"open":"closed"),1),Object(r["g"])("table",null,[i,(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(d.userList,(function(e){return Object(r["p"])(),Object(r["d"])("tr",{key:e.name},[Object(r["g"])("th",null,Object(r["y"])(e.name),1),Object(r["g"])("th",null,Object(r["y"])(e.email),1),Object(r["g"])("th",null,Object(r["y"])(e.attended),1)])})),128))]),Object(r["g"])("button",{class:"button",onClick:t[3]||(t[3]=function(){return p.getUserData&&p.getUserData.apply(p,arguments)})},"Refresh"),Object(r["g"])("button",{class:"button",onClick:t[4]||(t[4]=function(){return p.toggleAttendanceOpen&&p.toggleAttendanceOpen.apply(p,arguments)})},"Toggle attendance open"),Object(r["g"])("button",{class:"button",onClick:t[5]||(t[5]=function(){return p.resetUserAttendance&&p.resetUserAttendance.apply(p,arguments)})},"Reset user attendance")])):Object(r["e"])("",!0)],64)})),p=(n("d3b7"),n("96cf"),n("1da1")),b={name:"Admin",data:function(){return{password:"",msg:"",loggedIn:!1,userList:[],attendanceOpen:null}},methods:{tryLogin:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("login"),t.next=3,fetch("/login",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({password:e.password})});case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,e.loggedIn=r.success,r.success?e.getUserData():e.msg=r.errorMsg;case 9:case"end":return t.stop()}}),t)})))()},getUserData:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/getuserdata",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({password:e.password})});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,r.success?(e.attendanceOpen=r.attendanceOpen,e.userList=r.userList):e.msg=r.errorMsg;case 7:case"end":return t.stop()}}),t)})))()},toggleAttendanceOpen:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("api/openattendance",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({password:e.password})});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,r.success?e.getUserData():e.msg=r.errorMsg;case 7:case"end":return t.stop()}}),t)})))()},resetUserAttendance:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("api/resetuserattendance",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({password:e.password})});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,r.success?e.getUserData():e.msg=r.errorMsg;case 7:case"end":return t.stop()}}),t)})))()}}};n("35f2");b.render=d,b.__scopeId="data-v-ab7db32a";t["default"]=b},"35f2":function(e,t,n){"use strict";n("0c27")},b0c0:function(e,t,n){var r=n("83ab"),a=n("9bf2").f,c=Function.prototype,s=c.toString,o=/^\s*function ([^ (]*)/,u="name";r&&!(u in c)&&a(c,u,{configurable:!0,get:function(){try{return s.call(this).match(o)[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-ba51ecec.b6a43e81.js.map