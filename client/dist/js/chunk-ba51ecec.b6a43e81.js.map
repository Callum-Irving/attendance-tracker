{"version":3,"sources":["webpack:///./src/views/Admin.vue","webpack:///./src/views/Admin.vue?9254","webpack:///./src/views/Admin.vue?eb5d","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","type","loggedIn","tryLogin","placeholder","password","msg","attendanceOpen","userList","user","key","name","email","attended","getUserData","toggleAttendanceOpen","resetUserAttendance","data","methods","console","log","fetch","method","headers","body","JSON","stringify","result","json","usableResult","success","errorMsg","render","__scopeId","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error"],"mappings":"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","file":"js/chunk-ba51ecec.b6a43e81.js","sourcesContent":["<template>\n  <h1>Admin Page</h1>\n  <form v-if=\"!loggedIn\" @submit.prevent=\"tryLogin\">\n    <input placeholder=\"Admin password\" type=\"password\" v-model=\"password\" />\n    <button class=\"button\" type=\"submit\">Login</button>\n  </form>\n  <p v-if=\"msg\">{{ msg }}</p>\n  <div v-if=\"loggedIn\">\n    <p>Attendance is {{ attendanceOpen ? \"open\" : \"closed\" }}</p>\n    <table>\n      <tr>\n        <th>Name</th>\n        <th>Email</th>\n        <th>Attended</th>\n      </tr>\n      <tr v-for=\"user in userList\" :key=\"user.name\">\n        <th>{{ user.name }}</th>\n        <th>{{ user.email }}</th>\n        <th>{{ user.attended }}</th>\n      </tr>\n    </table>\n\n    <button class=\"button\" @click=\"getUserData\">Refresh</button>\n    <button class=\"button\" @click=\"toggleAttendanceOpen\">Toggle attendance open</button>\n    <button class=\"button\" @click=\"resetUserAttendance\">Reset user attendance</button>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Admin\",\n  data() {\n    return {\n      password: \"\",\n      msg: \"\",\n      loggedIn: false,\n      userList: [],\n      attendanceOpen: null\n    };\n  },\n  methods: {\n    async tryLogin() {\n      // Send fetch request to login\n      console.log(\"login\");\n      const result = await fetch(\"/login\", {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          password: this.password\n        })\n      });\n      const usableResult = await result.json();\n      this.loggedIn = usableResult.success;\n      if (usableResult.success) {\n        this.getUserData();\n      } else {\n        this.msg = usableResult.errorMsg;\n      }\n    },\n    async getUserData() {\n      const result = await fetch(\"/api/getuserdata\", {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          password: this.password\n        })\n      });\n      const usableResult = await result.json();\n      if (usableResult.success) {\n        this.attendanceOpen = usableResult.attendanceOpen;\n        this.userList = usableResult.userList;\n      } else {\n        this.msg = usableResult.errorMsg;\n      }\n    },\n    async toggleAttendanceOpen() {\n      const result = await fetch(\"api/openattendance\", {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          password: this.password\n        })\n      });\n      const usableResult = await result.json();\n      if (usableResult.success) {\n        this.getUserData();\n      } else {\n        this.msg = usableResult.errorMsg;\n      }\n    },\n    async resetUserAttendance() {\n      const result = await fetch(\"api/resetuserattendance\", {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          password: this.password\n        })\n      });\n      const usableResult = await result.json();\n      if (usableResult.success) {\n        this.getUserData();\n      } else {\n        this.msg = usableResult.errorMsg;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\ntable,\ntr,\nth {\n  border: 1px solid black;\n  padding: 10px;\n  color: black;\n}\n\ntable {\n  margin: 0 auto;\n  margin-bottom: 10px;\n  border-collapse: collapse;\n}\n\n.button {\n  cursor: pointer;\n  border: none;\n  margin: 10px;\n  text-decoration: none;\n  font-weight: bold;\n  padding: 10px;\n  background: #42b983;\n  color: white;\n  border-radius: 5px;\n}\n\n.button:hover {\n  background: #389c6f;\n}\n\n.button:focus {\n  border: none;\n  outline: none;\n}\n</style>\n","import { render } from \"./Admin.vue?vue&type=template&id=ab7db32a&scoped=true\"\nimport script from \"./Admin.vue?vue&type=script&lang=js\"\nexport * from \"./Admin.vue?vue&type=script&lang=js\"\n\nimport \"./Admin.vue?vue&type=style&index=0&id=ab7db32a&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-ab7db32a\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Admin.vue?vue&type=style&index=0&id=ab7db32a&scoped=true&lang=css\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}